{"ast":null,"code":"/**\n  * vue-router v2.1.1\n  * (c) 2016 Evan You\n  * @license MIT\n  */\n'use strict';\n\nvar _typeof = require(\"C:/Alura/alurapic/node_modules/@babel/runtime/helpers/typeof.js\").default;\n\nrequire(\"core-js/modules/es.function.name.js\");\n\nrequire(\"core-js/modules/es.error.cause.js\");\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.string.replace.js\");\n\nrequire(\"core-js/modules/es.string.trim.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.string.split.js\");\n\nrequire(\"core-js/modules/es.array.join.js\");\n\nrequire(\"core-js/modules/es.array.filter.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nrequire(\"core-js/modules/es.object.keys.js\");\n\nrequire(\"core-js/modules/es.array.slice.js\");\n\nrequire(\"core-js/modules/es.object.freeze.js\");\n\nrequire(\"core-js/modules/es.regexp.test.js\");\n\nrequire(\"core-js/modules/es.regexp.constructor.js\");\n\nrequire(\"core-js/modules/es.regexp.dot-all.js\");\n\nrequire(\"core-js/modules/es.regexp.sticky.js\");\n\nrequire(\"core-js/modules/es.regexp.to-string.js\");\n\nrequire(\"core-js/modules/es.string.repeat.js\");\n\nrequire(\"core-js/modules/es.json.stringify.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/es.string.match.js\");\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nrequire(\"core-js/modules/es.string.search.js\");\n\nvar View = {\n  name: 'router-view',\n  functional: true,\n  props: {\n    name: {\n      type: String,\n      default: 'default'\n    }\n  },\n  render: function render(h, ref) {\n    var props = ref.props;\n    var children = ref.children;\n    var parent = ref.parent;\n    var data = ref.data;\n    data.routerView = true;\n    var route = parent.$route;\n    var cache = parent._routerViewCache || (parent._routerViewCache = {});\n    var depth = 0;\n    var inactive = false;\n\n    while (parent) {\n      if (parent.$vnode && parent.$vnode.data.routerView) {\n        depth++;\n      }\n\n      if (parent._inactive) {\n        inactive = true;\n      }\n\n      parent = parent.$parent;\n    }\n\n    data.routerViewDepth = depth;\n    var matched = route.matched[depth];\n\n    if (!matched) {\n      return h();\n    }\n\n    var name = props.name;\n    var component = inactive ? cache[name] : cache[name] = matched.components[name];\n\n    if (!inactive) {\n      var hooks = data.hook || (data.hook = {});\n\n      hooks.init = function (vnode) {\n        matched.instances[name] = vnode.child;\n      };\n\n      hooks.prepatch = function (oldVnode, vnode) {\n        matched.instances[name] = vnode.child;\n      };\n\n      hooks.destroy = function (vnode) {\n        if (matched.instances[name] === vnode.child) {\n          matched.instances[name] = undefined;\n        }\n      };\n    }\n\n    return h(component, data, children);\n  }\n};\n/*  */\n\nfunction assert(condition, message) {\n  if (!condition) {\n    throw new Error(\"[vue-router] \" + message);\n  }\n}\n\nfunction warn(condition, message) {\n  if (!condition) {\n    typeof console !== 'undefined' && console.warn(\"[vue-router] \" + message);\n  }\n}\n/*  */\n\n\nvar encode = encodeURIComponent;\nvar decode = decodeURIComponent;\n\nfunction resolveQuery(query, extraQuery) {\n  if (extraQuery === void 0) extraQuery = {};\n\n  if (query) {\n    var parsedQuery;\n\n    try {\n      parsedQuery = parseQuery(query);\n    } catch (e) {\n      process.env.NODE_ENV !== 'production' && warn(false, e.message);\n      parsedQuery = {};\n    }\n\n    for (var key in extraQuery) {\n      parsedQuery[key] = extraQuery[key];\n    }\n\n    return parsedQuery;\n  } else {\n    return extraQuery;\n  }\n}\n\nfunction parseQuery(query) {\n  var res = {};\n  query = query.trim().replace(/^(\\?|#|&)/, '');\n\n  if (!query) {\n    return res;\n  }\n\n  query.split('&').forEach(function (param) {\n    var parts = param.replace(/\\+/g, ' ').split('=');\n    var key = decode(parts.shift());\n    var val = parts.length > 0 ? decode(parts.join('=')) : null;\n\n    if (res[key] === undefined) {\n      res[key] = val;\n    } else if (Array.isArray(res[key])) {\n      res[key].push(val);\n    } else {\n      res[key] = [res[key], val];\n    }\n  });\n  return res;\n}\n\nfunction stringifyQuery(obj) {\n  var res = obj ? Object.keys(obj).map(function (key) {\n    var val = obj[key];\n\n    if (val === undefined) {\n      return '';\n    }\n\n    if (val === null) {\n      return encode(key);\n    }\n\n    if (Array.isArray(val)) {\n      var result = [];\n      val.slice().forEach(function (val2) {\n        if (val2 === undefined) {\n          return;\n        }\n\n        if (val2 === null) {\n          result.push(encode(key));\n        } else {\n          result.push(encode(key) + '=' + encode(val2));\n        }\n      });\n      return result.join('&');\n    }\n\n    return encode(key) + '=' + encode(val);\n  }).filter(function (x) {\n    return x.length > 0;\n  }).join('&') : null;\n  return res ? \"?\" + res : '';\n}\n/*  */\n\n\nfunction createRoute(record, location, redirectedFrom) {\n  var route = {\n    name: location.name || record && record.name,\n    meta: record && record.meta || {},\n    path: location.path || '/',\n    hash: location.hash || '',\n    query: location.query || {},\n    params: location.params || {},\n    fullPath: getFullPath(location),\n    matched: record ? formatMatch(record) : []\n  };\n\n  if (redirectedFrom) {\n    route.redirectedFrom = getFullPath(redirectedFrom);\n  }\n\n  return Object.freeze(route);\n} // the starting route that represents the initial state\n\n\nvar START = createRoute(null, {\n  path: '/'\n});\n\nfunction formatMatch(record) {\n  var res = [];\n\n  while (record) {\n    res.unshift(record);\n    record = record.parent;\n  }\n\n  return res;\n}\n\nfunction getFullPath(ref) {\n  var path = ref.path;\n  var query = ref.query;\n  if (query === void 0) query = {};\n  var hash = ref.hash;\n  if (hash === void 0) hash = '';\n  return (path || '/') + stringifyQuery(query) + hash;\n}\n\nvar trailingSlashRE = /\\/$/;\n\nfunction isSameRoute(a, b) {\n  if (b === START) {\n    return a === b;\n  } else if (!b) {\n    return false;\n  } else if (a.path && b.path) {\n    return a.path.replace(trailingSlashRE, '') === b.path.replace(trailingSlashRE, '') && a.hash === b.hash && isObjectEqual(a.query, b.query);\n  } else if (a.name && b.name) {\n    return a.name === b.name && a.hash === b.hash && isObjectEqual(a.query, b.query) && isObjectEqual(a.params, b.params);\n  } else {\n    return false;\n  }\n}\n\nfunction isObjectEqual(a, b) {\n  if (a === void 0) a = {};\n  if (b === void 0) b = {};\n  var aKeys = Object.keys(a);\n  var bKeys = Object.keys(b);\n\n  if (aKeys.length !== bKeys.length) {\n    return false;\n  }\n\n  return aKeys.every(function (key) {\n    return String(a[key]) === String(b[key]);\n  });\n}\n\nfunction isIncludedRoute(current, target) {\n  return current.path.indexOf(target.path.replace(/\\/$/, '')) === 0 && (!target.hash || current.hash === target.hash) && queryIncludes(current.query, target.query);\n}\n\nfunction queryIncludes(current, target) {\n  for (var key in target) {\n    if (!(key in current)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n/*  */\n// work around weird flow bug\n\n\nvar toTypes = [String, Object];\nvar Link = {\n  name: 'router-link',\n  props: {\n    to: {\n      type: toTypes,\n      required: true\n    },\n    tag: {\n      type: String,\n      default: 'a'\n    },\n    exact: Boolean,\n    append: Boolean,\n    replace: Boolean,\n    activeClass: String,\n    event: {\n      type: [String, Array],\n      default: 'click'\n    }\n  },\n  render: function render(h) {\n    var this$1 = this;\n    var router = this.$router;\n    var current = this.$route;\n    var ref = router.resolve(this.to, current, this.append);\n    var normalizedTo = ref.normalizedTo;\n    var resolved = ref.resolved;\n    var href = ref.href;\n    var classes = {};\n    var activeClass = this.activeClass || router.options.linkActiveClass || 'router-link-active';\n    var compareTarget = normalizedTo.path ? createRoute(null, normalizedTo) : resolved;\n    classes[activeClass] = this.exact ? isSameRoute(current, compareTarget) : isIncludedRoute(current, compareTarget);\n\n    var handler = function handler(e) {\n      if (guardEvent(e)) {\n        if (this$1.replace) {\n          router.replace(normalizedTo);\n        } else {\n          router.push(normalizedTo);\n        }\n      }\n    };\n\n    var on = {\n      click: guardEvent\n    };\n\n    if (Array.isArray(this.event)) {\n      this.event.forEach(function (e) {\n        on[e] = handler;\n      });\n    } else {\n      on[this.event] = handler;\n    }\n\n    var data = {\n      class: classes\n    };\n\n    if (this.tag === 'a') {\n      data.on = on;\n      data.attrs = {\n        href: href\n      };\n    } else {\n      // find the first <a> child and apply listener and href\n      var a = findAnchor(this.$slots.default);\n\n      if (a) {\n        // in case the <a> is a static node\n        a.isStatic = false;\n        var extend = _Vue.util.extend;\n        var aData = a.data = extend({}, a.data);\n        aData.on = on;\n        var aAttrs = a.data.attrs = extend({}, a.data.attrs);\n        aAttrs.href = href;\n      } else {\n        // doesn't have <a> child, apply listener to self\n        data.on = on;\n      }\n    }\n\n    return h(this.tag, data, this.$slots.default);\n  }\n};\n\nfunction guardEvent(e) {\n  // don't redirect with control keys\n\n  /* istanbul ignore if */\n  if (e.metaKey || e.ctrlKey || e.shiftKey) {\n    return;\n  } // don't redirect when preventDefault called\n\n  /* istanbul ignore if */\n\n\n  if (e.defaultPrevented) {\n    return;\n  } // don't redirect on right click\n\n  /* istanbul ignore if */\n\n\n  if (e.button !== 0) {\n    return;\n  } // don't redirect if `target=\"_blank\"`\n\n  /* istanbul ignore if */\n\n\n  var target = e.target.getAttribute('target');\n\n  if (/\\b_blank\\b/i.test(target)) {\n    return;\n  }\n\n  e.preventDefault();\n  return true;\n}\n\nfunction findAnchor(children) {\n  if (children) {\n    var child;\n\n    for (var i = 0; i < children.length; i++) {\n      child = children[i];\n\n      if (child.tag === 'a') {\n        return child;\n      }\n\n      if (child.children && (child = findAnchor(child.children))) {\n        return child;\n      }\n    }\n  }\n}\n\nvar _Vue;\n\nfunction install(Vue) {\n  if (install.installed) {\n    return;\n  }\n\n  install.installed = true;\n  _Vue = Vue;\n  Object.defineProperty(Vue.prototype, '$router', {\n    get: function get() {\n      return this.$root._router;\n    }\n  });\n  Object.defineProperty(Vue.prototype, '$route', {\n    get: function get$1() {\n      return this.$root._route;\n    }\n  });\n  Vue.mixin({\n    beforeCreate: function beforeCreate() {\n      if (this.$options.router) {\n        this._router = this.$options.router;\n\n        this._router.init(this);\n\n        Vue.util.defineReactive(this, '_route', this._router.history.current);\n      }\n    }\n  });\n  Vue.component('router-view', View);\n  Vue.component('router-link', Link);\n  var strats = Vue.config.optionMergeStrategies; // use the same hook merging strategy for route hooks\n\n  strats.beforeRouteEnter = strats.beforeRouteLeave = strats.created;\n}\n/*  */\n\n\nfunction resolvePath(relative, base, append) {\n  if (relative.charAt(0) === '/') {\n    return relative;\n  }\n\n  if (relative.charAt(0) === '?' || relative.charAt(0) === '#') {\n    return base + relative;\n  }\n\n  var stack = base.split('/'); // remove trailing segment if:\n  // - not appending\n  // - appending to trailing slash (last segment is empty)\n\n  if (!append || !stack[stack.length - 1]) {\n    stack.pop();\n  } // resolve relative path\n\n\n  var segments = relative.replace(/^\\//, '').split('/');\n\n  for (var i = 0; i < segments.length; i++) {\n    var segment = segments[i];\n\n    if (segment === '.') {\n      continue;\n    } else if (segment === '..') {\n      stack.pop();\n    } else {\n      stack.push(segment);\n    }\n  } // ensure leading slash\n\n\n  if (stack[0] !== '') {\n    stack.unshift('');\n  }\n\n  return stack.join('/');\n}\n\nfunction parsePath(path) {\n  var hash = '';\n  var query = '';\n  var hashIndex = path.indexOf('#');\n\n  if (hashIndex >= 0) {\n    hash = path.slice(hashIndex);\n    path = path.slice(0, hashIndex);\n  }\n\n  var queryIndex = path.indexOf('?');\n\n  if (queryIndex >= 0) {\n    query = path.slice(queryIndex + 1);\n    path = path.slice(0, queryIndex);\n  }\n\n  return {\n    path: path,\n    query: query,\n    hash: hash\n  };\n}\n\nfunction cleanPath(path) {\n  return path.replace(/\\/\\//g, '/');\n}\n/*  */\n\n\nfunction createRouteMap(routes) {\n  var pathMap = Object.create(null);\n  var nameMap = Object.create(null);\n  routes.forEach(function (route) {\n    addRouteRecord(pathMap, nameMap, route);\n  });\n  return {\n    pathMap: pathMap,\n    nameMap: nameMap\n  };\n}\n\nfunction addRouteRecord(pathMap, nameMap, route, parent, matchAs) {\n  var path = route.path;\n  var name = route.name;\n\n  if (process.env.NODE_ENV !== 'production') {\n    assert(path != null, \"\\\"path\\\" is required in a route configuration.\");\n    assert(typeof route.component !== 'string', \"route config \\\"component\\\" for path: \" + String(path || name) + \" cannot be a \" + \"string id. Use an actual component instead.\");\n  }\n\n  var record = {\n    path: normalizePath(path, parent),\n    components: route.components || {\n      default: route.component\n    },\n    instances: {},\n    name: name,\n    parent: parent,\n    matchAs: matchAs,\n    redirect: route.redirect,\n    beforeEnter: route.beforeEnter,\n    meta: route.meta || {}\n  };\n\n  if (route.children) {\n    // Warn if route is named and has a default child route.\n    // If users navigate to this route by name, the default child will\n    // not be rendered (GH Issue #629)\n    if (process.env.NODE_ENV !== 'production') {\n      if (route.name && route.children.some(function (child) {\n        return /^\\/?$/.test(child.path);\n      })) {\n        warn(false, \"Named Route '\" + route.name + \"' has a default child route.\\n          When navigating to this named route (:to=\\\"{name: '\" + route.name + \"'\\\"), the default child route will not be rendered.\\n          Remove the name from this route and use the name of the default child route for named links instead.\");\n      }\n    }\n\n    route.children.forEach(function (child) {\n      addRouteRecord(pathMap, nameMap, child, record);\n    });\n  }\n\n  if (route.alias !== undefined) {\n    if (Array.isArray(route.alias)) {\n      route.alias.forEach(function (alias) {\n        addRouteRecord(pathMap, nameMap, {\n          path: alias\n        }, parent, record.path);\n      });\n    } else {\n      addRouteRecord(pathMap, nameMap, {\n        path: route.alias\n      }, parent, record.path);\n    }\n  }\n\n  if (!pathMap[record.path]) {\n    pathMap[record.path] = record;\n  }\n\n  if (name) {\n    if (!nameMap[name]) {\n      nameMap[name] = record;\n    } else if (process.env.NODE_ENV !== 'production') {\n      warn(false, \"Duplicate named routes definition: { name: \\\"\" + name + \"\\\", path: \\\"\" + record.path + \"\\\" }\");\n    }\n  }\n}\n\nfunction normalizePath(path, parent) {\n  path = path.replace(/\\/$/, '');\n\n  if (path[0] === '/') {\n    return path;\n  }\n\n  if (parent == null) {\n    return path;\n  }\n\n  return cleanPath(parent.path + \"/\" + path);\n}\n\nvar __moduleExports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\nvar isarray = __moduleExports;\n/**\n * Expose `pathToRegexp`.\n */\n\nvar index = pathToRegexp;\nvar parse_1 = parse;\nvar compile_1 = compile;\nvar tokensToFunction_1 = tokensToFunction;\nvar tokensToRegExp_1 = tokensToRegExp;\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\n\nvar PATH_REGEXP = new RegExp([// Match escaped characters that would otherwise appear in future matches.\n// This allows the user to escape special characters that won't transform.\n'(\\\\\\\\.)', // Match Express-style parameters and un-named parameters with a prefix\n// and optional suffixes. Matches appear as:\n//\n// \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n// \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n// \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n'([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?|(\\\\*))'].join('|'), 'g');\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\n\nfunction parse(str, options) {\n  var tokens = [];\n  var key = 0;\n  var index = 0;\n  var path = '';\n  var defaultDelimiter = options && options.delimiter || '/';\n  var res;\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0];\n    var escaped = res[1];\n    var offset = res.index;\n    path += str.slice(index, offset);\n    index = offset + m.length; // Ignore already escaped sequences.\n\n    if (escaped) {\n      path += escaped[1];\n      continue;\n    }\n\n    var next = str[index];\n    var prefix = res[2];\n    var name = res[3];\n    var capture = res[4];\n    var group = res[5];\n    var modifier = res[6];\n    var asterisk = res[7]; // Push the current path onto the tokens.\n\n    if (path) {\n      tokens.push(path);\n      path = '';\n    }\n\n    var partial = prefix != null && next != null && next !== prefix;\n    var repeat = modifier === '+' || modifier === '*';\n    var optional = modifier === '?' || modifier === '*';\n    var delimiter = res[2] || defaultDelimiter;\n    var pattern = capture || group;\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      asterisk: !!asterisk,\n      pattern: pattern ? escapeGroup(pattern) : asterisk ? '.*' : '[^' + escapeString(delimiter) + ']+?'\n    });\n  } // Match any characters still remaining.\n\n\n  if (index < str.length) {\n    path += str.substr(index);\n  } // If the path exists, push it onto the end.\n\n\n  if (path) {\n    tokens.push(path);\n  }\n\n  return tokens;\n}\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\n\n\nfunction compile(str, options) {\n  return tokensToFunction(parse(str, options));\n}\n/**\n * Prettier encoding of URI path segments.\n *\n * @param  {string}\n * @return {string}\n */\n\n\nfunction encodeURIComponentPretty(str) {\n  return encodeURI(str).replace(/[\\/?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase();\n  });\n}\n/**\n * Encode the asterisk parameter. Similar to `pretty`, but allows slashes.\n *\n * @param  {string}\n * @return {string}\n */\n\n\nfunction encodeAsterisk(str) {\n  return encodeURI(str).replace(/[?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase();\n  });\n}\n/**\n * Expose a method for transforming tokens into the path function.\n */\n\n\nfunction tokensToFunction(tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length); // Compile all the patterns before compilation.\n\n  for (var i = 0; i < tokens.length; i++) {\n    if (_typeof(tokens[i]) === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$');\n    }\n  }\n\n  return function (obj, opts) {\n    var path = '';\n    var data = obj || {};\n    var options = opts || {};\n    var encode = options.pretty ? encodeURIComponentPretty : encodeURIComponent;\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i];\n\n      if (typeof token === 'string') {\n        path += token;\n        continue;\n      }\n\n      var value = data[token.name];\n      var segment;\n\n      if (value == null) {\n        if (token.optional) {\n          // Prepend partial segment prefixes.\n          if (token.partial) {\n            path += token.prefix;\n          }\n\n          continue;\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined');\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received `' + JSON.stringify(value) + '`');\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue;\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty');\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j]);\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received `' + JSON.stringify(segment) + '`');\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment;\n        }\n\n        continue;\n      }\n\n      segment = token.asterisk ? encodeAsterisk(value) : encode(value);\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"');\n      }\n\n      path += token.prefix + segment;\n    }\n\n    return path;\n  };\n}\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\n\n\nfunction escapeString(str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/\\\\])/g, '\\\\$1');\n}\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\n\n\nfunction escapeGroup(group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1');\n}\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {!RegExp} re\n * @param  {Array}   keys\n * @return {!RegExp}\n */\n\n\nfunction attachKeys(re, keys) {\n  re.keys = keys;\n  return re;\n}\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\n\n\nfunction flags(options) {\n  return options.sensitive ? '' : 'i';\n}\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {!Array}  keys\n * @return {!RegExp}\n */\n\n\nfunction regexpToRegexp(path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g);\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        asterisk: false,\n        pattern: null\n      });\n    }\n  }\n\n  return attachKeys(path, keys);\n}\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array}   keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\n\n\nfunction arrayToRegexp(path, keys, options) {\n  var parts = [];\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source);\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options));\n  return attachKeys(regexp, keys);\n}\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {!Array}  keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\n\n\nfunction stringToRegexp(path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options);\n}\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}          tokens\n * @param  {(Array|Object)=} keys\n * @param  {Object=}         options\n * @return {!RegExp}\n */\n\n\nfunction tokensToRegExp(tokens, keys, options) {\n  if (!isarray(keys)) {\n    options =\n    /** @type {!Object} */\n    keys || options;\n    keys = [];\n  }\n\n  options = options || {};\n  var strict = options.strict;\n  var end = options.end !== false;\n  var route = ''; // Iterate over the tokens and create our regexp string.\n\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    if (typeof token === 'string') {\n      route += escapeString(token);\n    } else {\n      var prefix = escapeString(token.prefix);\n      var capture = '(?:' + token.pattern + ')';\n      keys.push(token);\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*';\n      }\n\n      if (token.optional) {\n        if (!token.partial) {\n          capture = '(?:' + prefix + '(' + capture + '))?';\n        } else {\n          capture = prefix + '(' + capture + ')?';\n        }\n      } else {\n        capture = prefix + '(' + capture + ')';\n      }\n\n      route += capture;\n    }\n  }\n\n  var delimiter = escapeString(options.delimiter || '/');\n  var endsWithDelimiter = route.slice(-delimiter.length) === delimiter; // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n\n  if (!strict) {\n    route = (endsWithDelimiter ? route.slice(0, -delimiter.length) : route) + '(?:' + delimiter + '(?=$))?';\n  }\n\n  if (end) {\n    route += '$';\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithDelimiter ? '' : '(?=' + delimiter + '|$)';\n  }\n\n  return attachKeys(new RegExp('^' + route, flags(options)), keys);\n}\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {(Array|Object)=}       keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\n\n\nfunction pathToRegexp(path, keys, options) {\n  if (!isarray(keys)) {\n    options =\n    /** @type {!Object} */\n    keys || options;\n    keys = [];\n  }\n\n  options = options || {};\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path,\n    /** @type {!Array} */\n    keys);\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(\n    /** @type {!Array} */\n    path,\n    /** @type {!Array} */\n    keys, options);\n  }\n\n  return stringToRegexp(\n  /** @type {string} */\n  path,\n  /** @type {!Array} */\n  keys, options);\n}\n\nindex.parse = parse_1;\nindex.compile = compile_1;\nindex.tokensToFunction = tokensToFunction_1;\nindex.tokensToRegExp = tokensToRegExp_1;\n/*  */\n\nvar regexpCache = Object.create(null);\n\nfunction getRouteRegex(path) {\n  var hit = regexpCache[path];\n  var keys, regexp;\n\n  if (hit) {\n    keys = hit.keys;\n    regexp = hit.regexp;\n  } else {\n    keys = [];\n    regexp = index(path, keys);\n    regexpCache[path] = {\n      keys: keys,\n      regexp: regexp\n    };\n  }\n\n  return {\n    keys: keys,\n    regexp: regexp\n  };\n}\n\nvar regexpCompileCache = Object.create(null);\n\nfunction fillParams(path, params, routeMsg) {\n  try {\n    var filler = regexpCompileCache[path] || (regexpCompileCache[path] = index.compile(path));\n    return filler(params || {}, {\n      pretty: true\n    });\n  } catch (e) {\n    if (process.env.NODE_ENV !== 'production') {\n      warn(false, \"missing param for \" + routeMsg + \": \" + e.message);\n    }\n\n    return '';\n  }\n}\n/*  */\n\n\nfunction normalizeLocation(raw, current, append) {\n  var next = typeof raw === 'string' ? {\n    path: raw\n  } : raw; // named target\n\n  if (next.name || next._normalized) {\n    return next;\n  } // relative params\n\n\n  if (!next.path && next.params && current) {\n    next = assign({}, next);\n    next._normalized = true;\n    var params = assign(assign({}, current.params), next.params);\n\n    if (current.name) {\n      next.name = current.name;\n      next.params = params;\n    } else if (current.matched) {\n      var rawPath = current.matched[current.matched.length - 1].path;\n      next.path = fillParams(rawPath, params, \"path \" + current.path);\n    } else if (process.env.NODE_ENV !== 'production') {\n      warn(false, \"relative params navigation requires a current route.\");\n    }\n\n    return next;\n  }\n\n  var parsedPath = parsePath(next.path || '');\n  var basePath = current && current.path || '/';\n  var path = parsedPath.path ? resolvePath(parsedPath.path, basePath, append || next.append) : current && current.path || '/';\n  var query = resolveQuery(parsedPath.query, next.query);\n  var hash = next.hash || parsedPath.hash;\n\n  if (hash && hash.charAt(0) !== '#') {\n    hash = \"#\" + hash;\n  }\n\n  return {\n    _normalized: true,\n    path: path,\n    query: query,\n    hash: hash\n  };\n}\n\nfunction assign(a, b) {\n  for (var key in b) {\n    a[key] = b[key];\n  }\n\n  return a;\n}\n/*  */\n\n\nfunction createMatcher(routes) {\n  var ref = createRouteMap(routes);\n  var pathMap = ref.pathMap;\n  var nameMap = ref.nameMap;\n\n  function match(raw, currentRoute, redirectedFrom) {\n    var location = normalizeLocation(raw, currentRoute);\n    var name = location.name;\n\n    if (name) {\n      var record = nameMap[name];\n      var paramNames = getRouteRegex(record.path).keys.filter(function (key) {\n        return !key.optional;\n      }).map(function (key) {\n        return key.name;\n      });\n\n      if (_typeof(location.params) !== 'object') {\n        location.params = {};\n      }\n\n      if (currentRoute && _typeof(currentRoute.params) === 'object') {\n        for (var key in currentRoute.params) {\n          if (!(key in location.params) && paramNames.indexOf(key) > -1) {\n            location.params[key] = currentRoute.params[key];\n          }\n        }\n      }\n\n      if (record) {\n        location.path = fillParams(record.path, location.params, \"named route \\\"\" + name + \"\\\"\");\n        return _createRoute(record, location, redirectedFrom);\n      }\n    } else if (location.path) {\n      location.params = {};\n\n      for (var path in pathMap) {\n        if (matchRoute(path, location.params, location.path)) {\n          return _createRoute(pathMap[path], location, redirectedFrom);\n        }\n      }\n    } // no match\n\n\n    return _createRoute(null, location);\n  }\n\n  function redirect(record, location) {\n    var originalRedirect = record.redirect;\n    var redirect = typeof originalRedirect === 'function' ? originalRedirect(createRoute(record, location)) : originalRedirect;\n\n    if (typeof redirect === 'string') {\n      redirect = {\n        path: redirect\n      };\n    }\n\n    if (!redirect || _typeof(redirect) !== 'object') {\n      process.env.NODE_ENV !== 'production' && warn(false, \"invalid redirect option: \" + JSON.stringify(redirect));\n      return _createRoute(null, location);\n    }\n\n    var re = redirect;\n    var name = re.name;\n    var path = re.path;\n    var query = location.query;\n    var hash = location.hash;\n    var params = location.params;\n    query = re.hasOwnProperty('query') ? re.query : query;\n    hash = re.hasOwnProperty('hash') ? re.hash : hash;\n    params = re.hasOwnProperty('params') ? re.params : params;\n\n    if (name) {\n      // resolved named direct\n      var targetRecord = nameMap[name];\n\n      if (process.env.NODE_ENV !== 'production') {\n        assert(targetRecord, \"redirect failed: named route \\\"\" + name + \"\\\" not found.\");\n      }\n\n      return match({\n        _normalized: true,\n        name: name,\n        query: query,\n        hash: hash,\n        params: params\n      }, undefined, location);\n    } else if (path) {\n      // 1. resolve relative redirect\n      var rawPath = resolveRecordPath(path, record); // 2. resolve params\n\n      var resolvedPath = fillParams(rawPath, params, \"redirect route with path \\\"\" + rawPath + \"\\\"\"); // 3. rematch with existing query and hash\n\n      return match({\n        _normalized: true,\n        path: resolvedPath,\n        query: query,\n        hash: hash\n      }, undefined, location);\n    } else {\n      warn(false, \"invalid redirect option: \" + JSON.stringify(redirect));\n      return _createRoute(null, location);\n    }\n  }\n\n  function alias(record, location, matchAs) {\n    var aliasedPath = fillParams(matchAs, location.params, \"aliased route with path \\\"\" + matchAs + \"\\\"\");\n    var aliasedMatch = match({\n      _normalized: true,\n      path: aliasedPath\n    });\n\n    if (aliasedMatch) {\n      var matched = aliasedMatch.matched;\n      var aliasedRecord = matched[matched.length - 1];\n      location.params = aliasedMatch.params;\n      return _createRoute(aliasedRecord, location);\n    }\n\n    return _createRoute(null, location);\n  }\n\n  function _createRoute(record, location, redirectedFrom) {\n    if (record && record.redirect) {\n      return redirect(record, redirectedFrom || location);\n    }\n\n    if (record && record.matchAs) {\n      return alias(record, location, record.matchAs);\n    }\n\n    return createRoute(record, location, redirectedFrom);\n  }\n\n  return match;\n}\n\nfunction matchRoute(path, params, pathname) {\n  var ref = getRouteRegex(path);\n  var regexp = ref.regexp;\n  var keys = ref.keys;\n  var m = pathname.match(regexp);\n\n  if (!m) {\n    return false;\n  } else if (!params) {\n    return true;\n  }\n\n  for (var i = 1, len = m.length; i < len; ++i) {\n    var key = keys[i - 1];\n    var val = typeof m[i] === 'string' ? decodeURIComponent(m[i]) : m[i];\n\n    if (key) {\n      params[key.name] = val;\n    }\n  }\n\n  return true;\n}\n\nfunction resolveRecordPath(path, record) {\n  return resolvePath(path, record.parent ? record.parent.path : '/', true);\n}\n/*  */\n\n\nvar inBrowser = typeof window !== 'undefined';\n\nvar supportsHistory = inBrowser && function () {\n  var ua = window.navigator.userAgent;\n\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) {\n    return false;\n  }\n\n  return window.history && 'pushState' in window.history;\n}();\n/*  */\n\n\nfunction runQueue(queue, fn, cb) {\n  var step = function step(index) {\n    if (index >= queue.length) {\n      cb();\n    } else {\n      if (queue[index]) {\n        fn(queue[index], function () {\n          step(index + 1);\n        });\n      } else {\n        step(index + 1);\n      }\n    }\n  };\n\n  step(0);\n}\n/*  */\n\n\nvar History = function History(router, base) {\n  this.router = router;\n  this.base = normalizeBase(base); // start with a route object that stands for \"nowhere\"\n\n  this.current = START;\n  this.pending = null;\n};\n\nHistory.prototype.listen = function listen(cb) {\n  this.cb = cb;\n};\n\nHistory.prototype.transitionTo = function transitionTo(location, onComplete, onAbort) {\n  var this$1 = this;\n  var route = this.router.match(location, this.current);\n  this.confirmTransition(route, function () {\n    this$1.updateRoute(route);\n    onComplete && onComplete(route);\n    this$1.ensureURL();\n  }, onAbort);\n};\n\nHistory.prototype.confirmTransition = function confirmTransition(route, onComplete, onAbort) {\n  var this$1 = this;\n  var current = this.current;\n\n  var abort = function abort() {\n    onAbort && onAbort();\n  };\n\n  if (isSameRoute(route, current)) {\n    this.ensureURL();\n    return abort();\n  }\n\n  var ref = resolveQueue(this.current.matched, route.matched);\n  var deactivated = ref.deactivated;\n  var activated = ref.activated;\n  var queue = [].concat( // in-component leave guards\n  extractLeaveGuards(deactivated), // global before hooks\n  this.router.beforeHooks, // enter guards\n  activated.map(function (m) {\n    return m.beforeEnter;\n  }), // async components\n  resolveAsyncComponents(activated));\n  this.pending = route;\n\n  var iterator = function iterator(hook, next) {\n    if (this$1.pending !== route) {\n      return abort();\n    }\n\n    hook(route, current, function (to) {\n      if (to === false) {\n        // next(false) -> abort navigation, ensure current URL\n        this$1.ensureURL(true);\n        abort();\n      } else if (typeof to === 'string' || _typeof(to) === 'object') {\n        // next('/') or next({ path: '/' }) -> redirect\n        _typeof(to) === 'object' && to.replace ? this$1.replace(to) : this$1.push(to);\n        abort();\n      } else {\n        // confirm transition and pass on the value\n        next(to);\n      }\n    });\n  };\n\n  runQueue(queue, iterator, function () {\n    var postEnterCbs = [];\n    var enterGuards = extractEnterGuards(activated, postEnterCbs, function () {\n      return this$1.current === route;\n    }); // wait until async components are resolved before\n    // extracting in-component enter guards\n\n    runQueue(enterGuards, iterator, function () {\n      if (this$1.pending !== route) {\n        return abort();\n      }\n\n      this$1.pending = null;\n      onComplete(route);\n\n      if (this$1.router.app) {\n        this$1.router.app.$nextTick(function () {\n          postEnterCbs.forEach(function (cb) {\n            return cb();\n          });\n        });\n      }\n    });\n  });\n};\n\nHistory.prototype.updateRoute = function updateRoute(route) {\n  var prev = this.current;\n  this.current = route;\n  this.cb && this.cb(route);\n  this.router.afterHooks.forEach(function (hook) {\n    hook && hook(route, prev);\n  });\n};\n\nfunction normalizeBase(base) {\n  if (!base) {\n    if (inBrowser) {\n      // respect <base> tag\n      var baseEl = document.querySelector('base');\n      base = baseEl ? baseEl.getAttribute('href') : '/';\n    } else {\n      base = '/';\n    }\n  } // make sure there's the starting slash\n\n\n  if (base.charAt(0) !== '/') {\n    base = '/' + base;\n  } // remove trailing slash\n\n\n  return base.replace(/\\/$/, '');\n}\n\nfunction resolveQueue(current, next) {\n  var i;\n  var max = Math.max(current.length, next.length);\n\n  for (i = 0; i < max; i++) {\n    if (current[i] !== next[i]) {\n      break;\n    }\n  }\n\n  return {\n    activated: next.slice(i),\n    deactivated: current.slice(i)\n  };\n}\n\nfunction extractGuard(def, key) {\n  if (typeof def !== 'function') {\n    // extend now so that global mixins are applied.\n    def = _Vue.extend(def);\n  }\n\n  return def.options[key];\n}\n\nfunction extractLeaveGuards(matched) {\n  return flatten(flatMapComponents(matched, function (def, instance) {\n    var guard = extractGuard(def, 'beforeRouteLeave');\n\n    if (guard) {\n      return Array.isArray(guard) ? guard.map(function (guard) {\n        return wrapLeaveGuard(guard, instance);\n      }) : wrapLeaveGuard(guard, instance);\n    }\n  }).reverse());\n}\n\nfunction wrapLeaveGuard(guard, instance) {\n  return function routeLeaveGuard() {\n    return guard.apply(instance, arguments);\n  };\n}\n\nfunction extractEnterGuards(matched, cbs, isValid) {\n  return flatten(flatMapComponents(matched, function (def, _, match, key) {\n    var guard = extractGuard(def, 'beforeRouteEnter');\n\n    if (guard) {\n      return Array.isArray(guard) ? guard.map(function (guard) {\n        return wrapEnterGuard(guard, cbs, match, key, isValid);\n      }) : wrapEnterGuard(guard, cbs, match, key, isValid);\n    }\n  }));\n}\n\nfunction wrapEnterGuard(guard, cbs, match, key, isValid) {\n  return function routeEnterGuard(to, from, next) {\n    return guard(to, from, function (cb) {\n      next(cb);\n\n      if (typeof cb === 'function') {\n        cbs.push(function () {\n          // #750\n          // if a router-view is wrapped with an out-in transition,\n          // the instance may not have been registered at this time.\n          // we will need to poll for registration until current route\n          // is no longer valid.\n          poll(cb, match.instances, key, isValid);\n        });\n      }\n    });\n  };\n}\n\nfunction poll(cb, // somehow flow cannot infer this is a function\ninstances, key, isValid) {\n  if (instances[key]) {\n    cb(instances[key]);\n  } else if (isValid()) {\n    setTimeout(function () {\n      poll(cb, instances, key, isValid);\n    }, 16);\n  }\n}\n\nfunction resolveAsyncComponents(matched) {\n  return flatMapComponents(matched, function (def, _, match, key) {\n    // if it's a function and doesn't have Vue options attached,\n    // assume it's an async component resolve function.\n    // we are not using Vue's default async resolving mechanism because\n    // we want to halt the navigation until the incoming component has been\n    // resolved.\n    if (typeof def === 'function' && !def.options) {\n      return function (to, from, next) {\n        var resolve = function resolve(resolvedDef) {\n          match.components[key] = resolvedDef;\n          next();\n        };\n\n        var reject = function reject(reason) {\n          warn(false, \"Failed to resolve async component \" + key + \": \" + reason);\n          next(false);\n        };\n\n        var res = def(resolve, reject);\n\n        if (res && typeof res.then === 'function') {\n          res.then(resolve, reject);\n        }\n      };\n    }\n  });\n}\n\nfunction flatMapComponents(matched, fn) {\n  return flatten(matched.map(function (m) {\n    return Object.keys(m.components).map(function (key) {\n      return fn(m.components[key], m.instances[key], m, key);\n    });\n  }));\n}\n\nfunction flatten(arr) {\n  return Array.prototype.concat.apply([], arr);\n}\n/*  */\n\n\nvar positionStore = Object.create(null);\n\nfunction saveScrollPosition(key) {\n  if (!key) {\n    return;\n  }\n\n  positionStore[key] = {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n}\n\nfunction getScrollPosition(key) {\n  if (!key) {\n    return;\n  }\n\n  return positionStore[key];\n}\n\nfunction getElementPosition(el) {\n  var docRect = document.documentElement.getBoundingClientRect();\n  var elRect = el.getBoundingClientRect();\n  return {\n    x: elRect.left - docRect.left,\n    y: elRect.top - docRect.top\n  };\n}\n\nfunction isValidPosition(obj) {\n  return isNumber(obj.x) || isNumber(obj.y);\n}\n\nfunction normalizePosition(obj) {\n  return {\n    x: isNumber(obj.x) ? obj.x : window.pageXOffset,\n    y: isNumber(obj.y) ? obj.y : window.pageYOffset\n  };\n}\n\nfunction isNumber(v) {\n  return typeof v === 'number';\n}\n/*  */\n\n\nvar genKey = function genKey() {\n  return String(Date.now());\n};\n\nvar _key = genKey();\n\nvar HTML5History = function (History) {\n  function HTML5History(router, base) {\n    var this$1 = this;\n    History.call(this, router, base);\n    var expectScroll = router.options.scrollBehavior;\n    window.addEventListener('popstate', function (e) {\n      _key = e.state && e.state.key;\n      var current = this$1.current;\n      this$1.transitionTo(getLocation(this$1.base), function (next) {\n        if (expectScroll) {\n          this$1.handleScroll(next, current, true);\n        }\n      });\n    });\n\n    if (expectScroll) {\n      window.addEventListener('scroll', function () {\n        saveScrollPosition(_key);\n      });\n    }\n  }\n\n  if (History) HTML5History.__proto__ = History;\n  HTML5History.prototype = Object.create(History && History.prototype);\n  HTML5History.prototype.constructor = HTML5History;\n\n  HTML5History.prototype.go = function go(n) {\n    window.history.go(n);\n  };\n\n  HTML5History.prototype.push = function push(location) {\n    var this$1 = this;\n    var current = this.current;\n    this.transitionTo(location, function (route) {\n      pushState(cleanPath(this$1.base + route.fullPath));\n      this$1.handleScroll(route, current, false);\n    });\n  };\n\n  HTML5History.prototype.replace = function replace(location) {\n    var this$1 = this;\n    var current = this.current;\n    this.transitionTo(location, function (route) {\n      replaceState(cleanPath(this$1.base + route.fullPath));\n      this$1.handleScroll(route, current, false);\n    });\n  };\n\n  HTML5History.prototype.ensureURL = function ensureURL(push) {\n    if (getLocation(this.base) !== this.current.fullPath) {\n      var current = cleanPath(this.base + this.current.fullPath);\n      push ? pushState(current) : replaceState(current);\n    }\n  };\n\n  HTML5History.prototype.handleScroll = function handleScroll(to, from, isPop) {\n    var router = this.router;\n\n    if (!router.app) {\n      return;\n    }\n\n    var behavior = router.options.scrollBehavior;\n\n    if (!behavior) {\n      return;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      assert(typeof behavior === 'function', \"scrollBehavior must be a function\");\n    } // wait until re-render finishes before scrolling\n\n\n    router.app.$nextTick(function () {\n      var position = getScrollPosition(_key);\n      var shouldScroll = behavior(to, from, isPop ? position : null);\n\n      if (!shouldScroll) {\n        return;\n      }\n\n      var isObject = _typeof(shouldScroll) === 'object';\n\n      if (isObject && typeof shouldScroll.selector === 'string') {\n        var el = document.querySelector(shouldScroll.selector);\n\n        if (el) {\n          position = getElementPosition(el);\n        } else if (isValidPosition(shouldScroll)) {\n          position = normalizePosition(shouldScroll);\n        }\n      } else if (isObject && isValidPosition(shouldScroll)) {\n        position = normalizePosition(shouldScroll);\n      }\n\n      if (position) {\n        window.scrollTo(position.x, position.y);\n      }\n    });\n  };\n\n  return HTML5History;\n}(History);\n\nfunction getLocation(base) {\n  var path = window.location.pathname;\n\n  if (base && path.indexOf(base) === 0) {\n    path = path.slice(base.length);\n  }\n\n  return (path || '/') + window.location.search + window.location.hash;\n}\n\nfunction pushState(url, replace) {\n  // try...catch the pushState call to get around Safari\n  // DOM Exception 18 where it limits to 100 pushState calls\n  var history = window.history;\n\n  try {\n    if (replace) {\n      history.replaceState({\n        key: _key\n      }, '', url);\n    } else {\n      _key = genKey();\n      history.pushState({\n        key: _key\n      }, '', url);\n    }\n\n    saveScrollPosition(_key);\n  } catch (e) {\n    window.location[replace ? 'assign' : 'replace'](url);\n  }\n}\n\nfunction replaceState(url) {\n  pushState(url, true);\n}\n/*  */\n\n\nvar HashHistory = function (History) {\n  function HashHistory(router, base, fallback) {\n    History.call(this, router, base); // check history fallback deeplinking\n\n    if (fallback && this.checkFallback()) {\n      return;\n    }\n\n    ensureSlash();\n  }\n\n  if (History) HashHistory.__proto__ = History;\n  HashHistory.prototype = Object.create(History && History.prototype);\n  HashHistory.prototype.constructor = HashHistory;\n\n  HashHistory.prototype.checkFallback = function checkFallback() {\n    var location = getLocation(this.base);\n\n    if (!/^\\/#/.test(location)) {\n      window.location.replace(cleanPath(this.base + '/#' + location));\n      return true;\n    }\n  };\n\n  HashHistory.prototype.onHashChange = function onHashChange() {\n    if (!ensureSlash()) {\n      return;\n    }\n\n    this.transitionTo(getHash(), function (route) {\n      replaceHash(route.fullPath);\n    });\n  };\n\n  HashHistory.prototype.push = function push(location) {\n    this.transitionTo(location, function (route) {\n      pushHash(route.fullPath);\n    });\n  };\n\n  HashHistory.prototype.replace = function replace(location) {\n    this.transitionTo(location, function (route) {\n      replaceHash(route.fullPath);\n    });\n  };\n\n  HashHistory.prototype.go = function go(n) {\n    window.history.go(n);\n  };\n\n  HashHistory.prototype.ensureURL = function ensureURL(push) {\n    var current = this.current.fullPath;\n\n    if (getHash() !== current) {\n      push ? pushHash(current) : replaceHash(current);\n    }\n  };\n\n  return HashHistory;\n}(History);\n\nfunction ensureSlash() {\n  var path = getHash();\n\n  if (path.charAt(0) === '/') {\n    return true;\n  }\n\n  replaceHash('/' + path);\n  return false;\n}\n\nfunction getHash() {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  var href = window.location.href;\n  var index = href.indexOf('#');\n  return index === -1 ? '' : href.slice(index + 1);\n}\n\nfunction pushHash(path) {\n  window.location.hash = path;\n}\n\nfunction replaceHash(path) {\n  var i = window.location.href.indexOf('#');\n  window.location.replace(window.location.href.slice(0, i >= 0 ? i : 0) + '#' + path);\n}\n/*  */\n\n\nvar AbstractHistory = function (History) {\n  function AbstractHistory(router) {\n    History.call(this, router);\n    this.stack = [];\n    this.index = -1;\n  }\n\n  if (History) AbstractHistory.__proto__ = History;\n  AbstractHistory.prototype = Object.create(History && History.prototype);\n  AbstractHistory.prototype.constructor = AbstractHistory;\n\n  AbstractHistory.prototype.push = function push(location) {\n    var this$1 = this;\n    this.transitionTo(location, function (route) {\n      this$1.stack = this$1.stack.slice(0, this$1.index + 1).concat(route);\n      this$1.index++;\n    });\n  };\n\n  AbstractHistory.prototype.replace = function replace(location) {\n    var this$1 = this;\n    this.transitionTo(location, function (route) {\n      this$1.stack = this$1.stack.slice(0, this$1.index).concat(route);\n    });\n  };\n\n  AbstractHistory.prototype.go = function go(n) {\n    var this$1 = this;\n    var targetIndex = this.index + n;\n\n    if (targetIndex < 0 || targetIndex >= this.stack.length) {\n      return;\n    }\n\n    var route = this.stack[targetIndex];\n    this.confirmTransition(route, function () {\n      this$1.index = targetIndex;\n      this$1.updateRoute(route);\n    });\n  };\n\n  AbstractHistory.prototype.ensureURL = function ensureURL() {// noop\n  };\n\n  return AbstractHistory;\n}(History);\n/*  */\n\n\nvar VueRouter = function VueRouter(options) {\n  if (options === void 0) options = {};\n  this.app = null;\n  this.options = options;\n  this.beforeHooks = [];\n  this.afterHooks = [];\n  this.match = createMatcher(options.routes || []);\n  var mode = options.mode || 'hash';\n  this.fallback = mode === 'history' && !supportsHistory;\n\n  if (this.fallback) {\n    mode = 'hash';\n  }\n\n  if (!inBrowser) {\n    mode = 'abstract';\n  }\n\n  this.mode = mode;\n\n  switch (mode) {\n    case 'history':\n      this.history = new HTML5History(this, options.base);\n      break;\n\n    case 'hash':\n      this.history = new HashHistory(this, options.base, this.fallback);\n      break;\n\n    case 'abstract':\n      this.history = new AbstractHistory(this);\n      break;\n\n    default:\n      process.env.NODE_ENV !== 'production' && assert(false, \"invalid mode: \" + mode);\n  }\n};\n\nvar prototypeAccessors = {\n  currentRoute: {}\n};\n\nprototypeAccessors.currentRoute.get = function () {\n  return this.history && this.history.current;\n};\n\nVueRouter.prototype.init = function init(app\n/* Vue component instance */\n) {\n  var this$1 = this;\n  process.env.NODE_ENV !== 'production' && assert(install.installed, \"not installed. Make sure to call `Vue.use(VueRouter)` \" + \"before creating root instance.\");\n  this.app = app;\n  var history = this.history;\n\n  if (history instanceof HTML5History) {\n    history.transitionTo(getLocation(history.base));\n  } else if (history instanceof HashHistory) {\n    var setupHashListener = function setupHashListener() {\n      window.addEventListener('hashchange', function () {\n        history.onHashChange();\n      });\n    };\n\n    history.transitionTo(getHash(), setupHashListener, setupHashListener);\n  }\n\n  history.listen(function (route) {\n    this$1.app._route = route;\n  });\n};\n\nVueRouter.prototype.beforeEach = function beforeEach(fn) {\n  this.beforeHooks.push(fn);\n};\n\nVueRouter.prototype.afterEach = function afterEach(fn) {\n  this.afterHooks.push(fn);\n};\n\nVueRouter.prototype.push = function push(location) {\n  this.history.push(location);\n};\n\nVueRouter.prototype.replace = function replace(location) {\n  this.history.replace(location);\n};\n\nVueRouter.prototype.go = function go(n) {\n  this.history.go(n);\n};\n\nVueRouter.prototype.back = function back() {\n  this.go(-1);\n};\n\nVueRouter.prototype.forward = function forward() {\n  this.go(1);\n};\n\nVueRouter.prototype.getMatchedComponents = function getMatchedComponents(to) {\n  var route = to ? this.resolve(to).resolved : this.currentRoute;\n\n  if (!route) {\n    return [];\n  }\n\n  return [].concat.apply([], route.matched.map(function (m) {\n    return Object.keys(m.components).map(function (key) {\n      return m.components[key];\n    });\n  }));\n};\n\nVueRouter.prototype.resolve = function resolve(to, current, append) {\n  var normalizedTo = normalizeLocation(to, current || this.history.current, append);\n  var resolved = this.match(normalizedTo, current);\n  var fullPath = resolved.redirectedFrom || resolved.fullPath;\n  var base = this.history.base;\n  var href = createHref(base, fullPath, this.mode);\n  return {\n    normalizedTo: normalizedTo,\n    resolved: resolved,\n    href: href\n  };\n};\n\nObject.defineProperties(VueRouter.prototype, prototypeAccessors);\n\nfunction createHref(base, fullPath, mode) {\n  var path = mode === 'hash' ? '#' + fullPath : fullPath;\n  return base ? cleanPath(base + '/' + path) : path;\n}\n\nVueRouter.install = install;\n\nif (inBrowser && window.Vue) {\n  window.Vue.use(VueRouter);\n}\n\nmodule.exports = VueRouter;","map":{"version":3,"sources":["C:/Alura/alurapic/node_modules/vue-router/dist/vue-router.common.js"],"names":["View","name","functional","props","type","String","default","render","h","ref","children","parent","data","routerView","route","$route","cache","_routerViewCache","depth","inactive","$vnode","_inactive","$parent","routerViewDepth","matched","component","components","hooks","hook","init","vnode","instances","child","prepatch","oldVnode","destroy","undefined","assert","condition","message","Error","warn","console","encode","encodeURIComponent","decode","decodeURIComponent","resolveQuery","query","extraQuery","parsedQuery","parseQuery","e","process","env","NODE_ENV","key","res","trim","replace","split","forEach","param","parts","shift","val","length","join","Array","isArray","push","stringifyQuery","obj","Object","keys","map","result","slice","val2","filter","x","createRoute","record","location","redirectedFrom","meta","path","hash","params","fullPath","getFullPath","formatMatch","freeze","START","unshift","trailingSlashRE","isSameRoute","a","b","isObjectEqual","aKeys","bKeys","every","isIncludedRoute","current","target","indexOf","queryIncludes","toTypes","Link","to","required","tag","exact","Boolean","append","activeClass","event","this$1","router","$router","resolve","normalizedTo","resolved","href","classes","options","linkActiveClass","compareTarget","handler","guardEvent","on","click","class","attrs","findAnchor","$slots","isStatic","extend","_Vue","util","aData","aAttrs","metaKey","ctrlKey","shiftKey","defaultPrevented","button","getAttribute","test","preventDefault","i","install","Vue","installed","defineProperty","prototype","get","$root","_router","get$1","_route","mixin","beforeCreate","$options","defineReactive","history","strats","config","optionMergeStrategies","beforeRouteEnter","beforeRouteLeave","created","resolvePath","relative","base","charAt","stack","pop","segments","segment","parsePath","hashIndex","queryIndex","cleanPath","createRouteMap","routes","pathMap","create","nameMap","addRouteRecord","matchAs","normalizePath","redirect","beforeEnter","some","alias","__moduleExports","arr","toString","call","isarray","index","pathToRegexp","parse_1","parse","compile_1","compile","tokensToFunction_1","tokensToFunction","tokensToRegExp_1","tokensToRegExp","PATH_REGEXP","RegExp","str","tokens","defaultDelimiter","delimiter","exec","m","escaped","offset","next","prefix","capture","group","modifier","asterisk","partial","repeat","optional","pattern","escapeGroup","escapeString","substr","encodeURIComponentPretty","encodeURI","c","charCodeAt","toUpperCase","encodeAsterisk","matches","opts","pretty","token","value","TypeError","JSON","stringify","j","attachKeys","re","flags","sensitive","regexpToRegexp","groups","source","match","arrayToRegexp","regexp","stringToRegexp","strict","end","endsWithDelimiter","regexpCache","getRouteRegex","hit","regexpCompileCache","fillParams","routeMsg","filler","normalizeLocation","raw","_normalized","assign","rawPath","parsedPath","basePath","createMatcher","currentRoute","paramNames","_createRoute","matchRoute","originalRedirect","hasOwnProperty","targetRecord","resolveRecordPath","resolvedPath","aliasedPath","aliasedMatch","aliasedRecord","pathname","len","inBrowser","window","supportsHistory","ua","navigator","userAgent","runQueue","queue","fn","cb","step","History","normalizeBase","pending","listen","transitionTo","onComplete","onAbort","confirmTransition","updateRoute","ensureURL","abort","resolveQueue","deactivated","activated","concat","extractLeaveGuards","beforeHooks","resolveAsyncComponents","iterator","postEnterCbs","enterGuards","extractEnterGuards","app","$nextTick","prev","afterHooks","baseEl","document","querySelector","max","Math","extractGuard","def","flatten","flatMapComponents","instance","guard","wrapLeaveGuard","reverse","routeLeaveGuard","apply","arguments","cbs","isValid","_","wrapEnterGuard","routeEnterGuard","from","poll","setTimeout","resolvedDef","reject","reason","then","positionStore","saveScrollPosition","pageXOffset","y","pageYOffset","getScrollPosition","getElementPosition","el","docRect","documentElement","getBoundingClientRect","elRect","left","top","isValidPosition","isNumber","normalizePosition","v","genKey","Date","now","_key","HTML5History","expectScroll","scrollBehavior","addEventListener","state","getLocation","handleScroll","__proto__","constructor","go","n","pushState","replaceState","isPop","behavior","position","shouldScroll","isObject","selector","scrollTo","search","url","HashHistory","fallback","checkFallback","ensureSlash","onHashChange","getHash","replaceHash","pushHash","AbstractHistory","targetIndex","VueRouter","mode","prototypeAccessors","setupHashListener","beforeEach","afterEach","back","forward","getMatchedComponents","createHref","defineProperties","use","module","exports"],"mappings":"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","sourcesContent":["/**\n  * vue-router v2.1.1\n  * (c) 2016 Evan You\n  * @license MIT\n  */\n'use strict';\n\nvar View = {\n  name: 'router-view',\n  functional: true,\n  props: {\n    name: {\n      type: String,\n      default: 'default'\n    }\n  },\n  render: function render (h, ref) {\n    var props = ref.props;\n    var children = ref.children;\n    var parent = ref.parent;\n    var data = ref.data;\n\n    data.routerView = true\n\n    var route = parent.$route\n    var cache = parent._routerViewCache || (parent._routerViewCache = {})\n    var depth = 0\n    var inactive = false\n\n    while (parent) {\n      if (parent.$vnode && parent.$vnode.data.routerView) {\n        depth++\n      }\n      if (parent._inactive) {\n        inactive = true\n      }\n      parent = parent.$parent\n    }\n\n    data.routerViewDepth = depth\n    var matched = route.matched[depth]\n    if (!matched) {\n      return h()\n    }\n\n    var name = props.name\n    var component = inactive\n      ? cache[name]\n      : (cache[name] = matched.components[name])\n\n    if (!inactive) {\n      var hooks = data.hook || (data.hook = {})\n      hooks.init = function (vnode) {\n        matched.instances[name] = vnode.child\n      }\n      hooks.prepatch = function (oldVnode, vnode) {\n        matched.instances[name] = vnode.child\n      }\n      hooks.destroy = function (vnode) {\n        if (matched.instances[name] === vnode.child) {\n          matched.instances[name] = undefined\n        }\n      }\n    }\n\n    return h(component, data, children)\n  }\n}\n\n/*  */\n\nfunction assert (condition, message) {\n  if (!condition) {\n    throw new Error((\"[vue-router] \" + message))\n  }\n}\n\nfunction warn (condition, message) {\n  if (!condition) {\n    typeof console !== 'undefined' && console.warn((\"[vue-router] \" + message))\n  }\n}\n\n/*  */\n\nvar encode = encodeURIComponent\nvar decode = decodeURIComponent\n\nfunction resolveQuery (\n  query,\n  extraQuery\n) {\n  if ( extraQuery === void 0 ) extraQuery = {};\n\n  if (query) {\n    var parsedQuery\n    try {\n      parsedQuery = parseQuery(query)\n    } catch (e) {\n      process.env.NODE_ENV !== 'production' && warn(false, e.message)\n      parsedQuery = {}\n    }\n    for (var key in extraQuery) {\n      parsedQuery[key] = extraQuery[key]\n    }\n    return parsedQuery\n  } else {\n    return extraQuery\n  }\n}\n\nfunction parseQuery (query) {\n  var res = {}\n\n  query = query.trim().replace(/^(\\?|#|&)/, '')\n\n  if (!query) {\n    return res\n  }\n\n  query.split('&').forEach(function (param) {\n    var parts = param.replace(/\\+/g, ' ').split('=')\n    var key = decode(parts.shift())\n    var val = parts.length > 0\n      ? decode(parts.join('='))\n      : null\n\n    if (res[key] === undefined) {\n      res[key] = val\n    } else if (Array.isArray(res[key])) {\n      res[key].push(val)\n    } else {\n      res[key] = [res[key], val]\n    }\n  })\n\n  return res\n}\n\nfunction stringifyQuery (obj) {\n  var res = obj ? Object.keys(obj).map(function (key) {\n    var val = obj[key]\n\n    if (val === undefined) {\n      return ''\n    }\n\n    if (val === null) {\n      return encode(key)\n    }\n\n    if (Array.isArray(val)) {\n      var result = []\n      val.slice().forEach(function (val2) {\n        if (val2 === undefined) {\n          return\n        }\n        if (val2 === null) {\n          result.push(encode(key))\n        } else {\n          result.push(encode(key) + '=' + encode(val2))\n        }\n      })\n      return result.join('&')\n    }\n\n    return encode(key) + '=' + encode(val)\n  }).filter(function (x) { return x.length > 0; }).join('&') : null\n  return res ? (\"?\" + res) : ''\n}\n\n/*  */\n\nfunction createRoute (\n  record,\n  location,\n  redirectedFrom\n) {\n  var route = {\n    name: location.name || (record && record.name),\n    meta: (record && record.meta) || {},\n    path: location.path || '/',\n    hash: location.hash || '',\n    query: location.query || {},\n    params: location.params || {},\n    fullPath: getFullPath(location),\n    matched: record ? formatMatch(record) : []\n  }\n  if (redirectedFrom) {\n    route.redirectedFrom = getFullPath(redirectedFrom)\n  }\n  return Object.freeze(route)\n}\n\n// the starting route that represents the initial state\nvar START = createRoute(null, {\n  path: '/'\n})\n\nfunction formatMatch (record) {\n  var res = []\n  while (record) {\n    res.unshift(record)\n    record = record.parent\n  }\n  return res\n}\n\nfunction getFullPath (ref) {\n  var path = ref.path;\n  var query = ref.query; if ( query === void 0 ) query = {};\n  var hash = ref.hash; if ( hash === void 0 ) hash = '';\n\n  return (path || '/') + stringifyQuery(query) + hash\n}\n\nvar trailingSlashRE = /\\/$/\nfunction isSameRoute (a, b) {\n  if (b === START) {\n    return a === b\n  } else if (!b) {\n    return false\n  } else if (a.path && b.path) {\n    return (\n      a.path.replace(trailingSlashRE, '') === b.path.replace(trailingSlashRE, '') &&\n      a.hash === b.hash &&\n      isObjectEqual(a.query, b.query)\n    )\n  } else if (a.name && b.name) {\n    return (\n      a.name === b.name &&\n      a.hash === b.hash &&\n      isObjectEqual(a.query, b.query) &&\n      isObjectEqual(a.params, b.params)\n    )\n  } else {\n    return false\n  }\n}\n\nfunction isObjectEqual (a, b) {\n  if ( a === void 0 ) a = {};\n  if ( b === void 0 ) b = {};\n\n  var aKeys = Object.keys(a)\n  var bKeys = Object.keys(b)\n  if (aKeys.length !== bKeys.length) {\n    return false\n  }\n  return aKeys.every(function (key) { return String(a[key]) === String(b[key]); })\n}\n\nfunction isIncludedRoute (current, target) {\n  return (\n    current.path.indexOf(target.path.replace(/\\/$/, '')) === 0 &&\n    (!target.hash || current.hash === target.hash) &&\n    queryIncludes(current.query, target.query)\n  )\n}\n\nfunction queryIncludes (current, target) {\n  for (var key in target) {\n    if (!(key in current)) {\n      return false\n    }\n  }\n  return true\n}\n\n/*  */\n\n// work around weird flow bug\nvar toTypes = [String, Object]\n\nvar Link = {\n  name: 'router-link',\n  props: {\n    to: {\n      type: toTypes,\n      required: true\n    },\n    tag: {\n      type: String,\n      default: 'a'\n    },\n    exact: Boolean,\n    append: Boolean,\n    replace: Boolean,\n    activeClass: String,\n    event: {\n      type: [String, Array],\n      default: 'click'\n    }\n  },\n  render: function render (h) {\n    var this$1 = this;\n\n    var router = this.$router\n    var current = this.$route\n    var ref = router.resolve(this.to, current, this.append);\n    var normalizedTo = ref.normalizedTo;\n    var resolved = ref.resolved;\n    var href = ref.href;\n    var classes = {}\n    var activeClass = this.activeClass || router.options.linkActiveClass || 'router-link-active'\n    var compareTarget = normalizedTo.path ? createRoute(null, normalizedTo) : resolved\n    classes[activeClass] = this.exact\n      ? isSameRoute(current, compareTarget)\n      : isIncludedRoute(current, compareTarget)\n\n    var handler = function (e) {\n      if (guardEvent(e)) {\n        if (this$1.replace) {\n          router.replace(normalizedTo)\n        } else {\n          router.push(normalizedTo)\n        }\n      }\n    }\n\n    var on = { click: guardEvent }\n    if (Array.isArray(this.event)) {\n      this.event.forEach(function (e) { on[e] = handler })\n    } else {\n      on[this.event] = handler\n    }\n\n    var data = {\n      class: classes\n    }\n\n    if (this.tag === 'a') {\n      data.on = on\n      data.attrs = { href: href }\n    } else {\n      // find the first <a> child and apply listener and href\n      var a = findAnchor(this.$slots.default)\n      if (a) {\n        // in case the <a> is a static node\n        a.isStatic = false\n        var extend = _Vue.util.extend\n        var aData = a.data = extend({}, a.data)\n        aData.on = on\n        var aAttrs = a.data.attrs = extend({}, a.data.attrs)\n        aAttrs.href = href\n      } else {\n        // doesn't have <a> child, apply listener to self\n        data.on = on\n      }\n    }\n\n    return h(this.tag, data, this.$slots.default)\n  }\n}\n\nfunction guardEvent (e) {\n  // don't redirect with control keys\n  /* istanbul ignore if */\n  if (e.metaKey || e.ctrlKey || e.shiftKey) { return }\n  // don't redirect when preventDefault called\n  /* istanbul ignore if */\n  if (e.defaultPrevented) { return }\n  // don't redirect on right click\n  /* istanbul ignore if */\n  if (e.button !== 0) { return }\n  // don't redirect if `target=\"_blank\"`\n  /* istanbul ignore if */\n  var target = e.target.getAttribute('target')\n  if (/\\b_blank\\b/i.test(target)) { return }\n\n  e.preventDefault()\n  return true\n}\n\nfunction findAnchor (children) {\n  if (children) {\n    var child\n    for (var i = 0; i < children.length; i++) {\n      child = children[i]\n      if (child.tag === 'a') {\n        return child\n      }\n      if (child.children && (child = findAnchor(child.children))) {\n        return child\n      }\n    }\n  }\n}\n\nvar _Vue\n\nfunction install (Vue) {\n  if (install.installed) { return }\n  install.installed = true\n\n  _Vue = Vue\n\n  Object.defineProperty(Vue.prototype, '$router', {\n    get: function get () { return this.$root._router }\n  })\n\n  Object.defineProperty(Vue.prototype, '$route', {\n    get: function get$1 () { return this.$root._route }\n  })\n\n  Vue.mixin({\n    beforeCreate: function beforeCreate () {\n      if (this.$options.router) {\n        this._router = this.$options.router\n        this._router.init(this)\n        Vue.util.defineReactive(this, '_route', this._router.history.current)\n      }\n    }\n  })\n\n  Vue.component('router-view', View)\n  Vue.component('router-link', Link)\n\n  var strats = Vue.config.optionMergeStrategies\n  // use the same hook merging strategy for route hooks\n  strats.beforeRouteEnter = strats.beforeRouteLeave = strats.created\n}\n\n/*  */\n\nfunction resolvePath (\n  relative,\n  base,\n  append\n) {\n  if (relative.charAt(0) === '/') {\n    return relative\n  }\n\n  if (relative.charAt(0) === '?' || relative.charAt(0) === '#') {\n    return base + relative\n  }\n\n  var stack = base.split('/')\n\n  // remove trailing segment if:\n  // - not appending\n  // - appending to trailing slash (last segment is empty)\n  if (!append || !stack[stack.length - 1]) {\n    stack.pop()\n  }\n\n  // resolve relative path\n  var segments = relative.replace(/^\\//, '').split('/')\n  for (var i = 0; i < segments.length; i++) {\n    var segment = segments[i]\n    if (segment === '.') {\n      continue\n    } else if (segment === '..') {\n      stack.pop()\n    } else {\n      stack.push(segment)\n    }\n  }\n\n  // ensure leading slash\n  if (stack[0] !== '') {\n    stack.unshift('')\n  }\n\n  return stack.join('/')\n}\n\nfunction parsePath (path) {\n  var hash = ''\n  var query = ''\n\n  var hashIndex = path.indexOf('#')\n  if (hashIndex >= 0) {\n    hash = path.slice(hashIndex)\n    path = path.slice(0, hashIndex)\n  }\n\n  var queryIndex = path.indexOf('?')\n  if (queryIndex >= 0) {\n    query = path.slice(queryIndex + 1)\n    path = path.slice(0, queryIndex)\n  }\n\n  return {\n    path: path,\n    query: query,\n    hash: hash\n  }\n}\n\nfunction cleanPath (path) {\n  return path.replace(/\\/\\//g, '/')\n}\n\n/*  */\n\nfunction createRouteMap (routes) {\n  var pathMap = Object.create(null)\n  var nameMap = Object.create(null)\n\n  routes.forEach(function (route) {\n    addRouteRecord(pathMap, nameMap, route)\n  })\n\n  return {\n    pathMap: pathMap,\n    nameMap: nameMap\n  }\n}\n\nfunction addRouteRecord (\n  pathMap,\n  nameMap,\n  route,\n  parent,\n  matchAs\n) {\n  var path = route.path;\n  var name = route.name;\n  if (process.env.NODE_ENV !== 'production') {\n    assert(path != null, \"\\\"path\\\" is required in a route configuration.\")\n    assert(\n      typeof route.component !== 'string',\n      \"route config \\\"component\\\" for path: \" + (String(path || name)) + \" cannot be a \" +\n      \"string id. Use an actual component instead.\"\n    )\n  }\n\n  var record = {\n    path: normalizePath(path, parent),\n    components: route.components || { default: route.component },\n    instances: {},\n    name: name,\n    parent: parent,\n    matchAs: matchAs,\n    redirect: route.redirect,\n    beforeEnter: route.beforeEnter,\n    meta: route.meta || {}\n  }\n\n  if (route.children) {\n    // Warn if route is named and has a default child route.\n    // If users navigate to this route by name, the default child will\n    // not be rendered (GH Issue #629)\n    if (process.env.NODE_ENV !== 'production') {\n      if (route.name && route.children.some(function (child) { return /^\\/?$/.test(child.path); })) {\n        warn(false, (\"Named Route '\" + (route.name) + \"' has a default child route.\\n          When navigating to this named route (:to=\\\"{name: '\" + (route.name) + \"'\\\"), the default child route will not be rendered.\\n          Remove the name from this route and use the name of the default child route for named links instead.\")\n        )\n      }\n    }\n    route.children.forEach(function (child) {\n      addRouteRecord(pathMap, nameMap, child, record)\n    })\n  }\n\n  if (route.alias !== undefined) {\n    if (Array.isArray(route.alias)) {\n      route.alias.forEach(function (alias) {\n        addRouteRecord(pathMap, nameMap, { path: alias }, parent, record.path)\n      })\n    } else {\n      addRouteRecord(pathMap, nameMap, { path: route.alias }, parent, record.path)\n    }\n  }\n\n  if (!pathMap[record.path]) {\n    pathMap[record.path] = record\n  }\n  if (name) {\n    if (!nameMap[name]) {\n      nameMap[name] = record\n    } else if (process.env.NODE_ENV !== 'production') {\n      warn(false, (\"Duplicate named routes definition: { name: \\\"\" + name + \"\\\", path: \\\"\" + (record.path) + \"\\\" }\"))\n    }\n  }\n}\n\nfunction normalizePath (path, parent) {\n  path = path.replace(/\\/$/, '')\n  if (path[0] === '/') { return path }\n  if (parent == null) { return path }\n  return cleanPath(((parent.path) + \"/\" + path))\n}\n\nvar __moduleExports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\nvar isarray = __moduleExports\n\n/**\n * Expose `pathToRegexp`.\n */\nvar index = pathToRegexp\nvar parse_1 = parse\nvar compile_1 = compile\nvar tokensToFunction_1 = tokensToFunction\nvar tokensToRegExp_1 = tokensToRegExp\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = options && options.delimiter || '/'\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      continue\n    }\n\n    var next = str[index]\n    var prefix = res[2]\n    var name = res[3]\n    var capture = res[4]\n    var group = res[5]\n    var modifier = res[6]\n    var asterisk = res[7]\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n    }\n\n    var partial = prefix != null && next != null && next !== prefix\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var delimiter = res[2] || defaultDelimiter\n    var pattern = capture || group\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      asterisk: !!asterisk,\n      pattern: pattern ? escapeGroup(pattern) : (asterisk ? '.*' : '[^' + escapeString(delimiter) + ']+?')\n    })\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index)\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path)\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options))\n}\n\n/**\n * Prettier encoding of URI path segments.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeURIComponentPretty (str) {\n  return encodeURI(str).replace(/[\\/?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Encode the asterisk parameter. Similar to `pretty`, but allows slashes.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeAsterisk (str) {\n  return encodeURI(str).replace(/[?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$')\n    }\n  }\n\n  return function (obj, opts) {\n    var path = ''\n    var data = obj || {}\n    var options = opts || {}\n    var encode = options.pretty ? encodeURIComponentPretty : encodeURIComponent\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n\n        continue\n      }\n\n      var value = data[token.name]\n      var segment\n\n      if (value == null) {\n        if (token.optional) {\n          // Prepend partial segment prefixes.\n          if (token.partial) {\n            path += token.prefix\n          }\n\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received `' + JSON.stringify(value) + '`')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j])\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received `' + JSON.stringify(segment) + '`')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      segment = token.asterisk ? encodeAsterisk(value) : encode(value)\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {!RegExp} re\n * @param  {Array}   keys\n * @return {!RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {!Array}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        asterisk: false,\n        pattern: null\n      })\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array}   keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options))\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {!Array}  keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}          tokens\n * @param  {(Array|Object)=} keys\n * @param  {Object=}         options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  var strict = options.strict\n  var end = options.end !== false\n  var route = ''\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n    } else {\n      var prefix = escapeString(token.prefix)\n      var capture = '(?:' + token.pattern + ')'\n\n      keys.push(token)\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*'\n      }\n\n      if (token.optional) {\n        if (!token.partial) {\n          capture = '(?:' + prefix + '(' + capture + '))?'\n        } else {\n          capture = prefix + '(' + capture + ')?'\n        }\n      } else {\n        capture = prefix + '(' + capture + ')'\n      }\n\n      route += capture\n    }\n  }\n\n  var delimiter = escapeString(options.delimiter || '/')\n  var endsWithDelimiter = route.slice(-delimiter.length) === delimiter\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithDelimiter ? route.slice(0, -delimiter.length) : route) + '(?:' + delimiter + '(?=$))?'\n  }\n\n  if (end) {\n    route += '$'\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithDelimiter ? '' : '(?=' + delimiter + '|$)'\n  }\n\n  return attachKeys(new RegExp('^' + route, flags(options)), keys)\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {(Array|Object)=}       keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, /** @type {!Array} */ (keys))\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), /** @type {!Array} */ (keys), options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), /** @type {!Array} */ (keys), options)\n}\n\nindex.parse = parse_1;\nindex.compile = compile_1;\nindex.tokensToFunction = tokensToFunction_1;\nindex.tokensToRegExp = tokensToRegExp_1;\n\n/*  */\n\nvar regexpCache = Object.create(null)\n\nfunction getRouteRegex (path) {\n  var hit = regexpCache[path]\n  var keys, regexp\n\n  if (hit) {\n    keys = hit.keys\n    regexp = hit.regexp\n  } else {\n    keys = []\n    regexp = index(path, keys)\n    regexpCache[path] = { keys: keys, regexp: regexp }\n  }\n\n  return { keys: keys, regexp: regexp }\n}\n\nvar regexpCompileCache = Object.create(null)\n\nfunction fillParams (\n  path,\n  params,\n  routeMsg\n) {\n  try {\n    var filler =\n      regexpCompileCache[path] ||\n      (regexpCompileCache[path] = index.compile(path))\n    return filler(params || {}, { pretty: true })\n  } catch (e) {\n    if (process.env.NODE_ENV !== 'production') {\n      warn(false, (\"missing param for \" + routeMsg + \": \" + (e.message)))\n    }\n    return ''\n  }\n}\n\n/*  */\n\nfunction normalizeLocation (\n  raw,\n  current,\n  append\n) {\n  var next = typeof raw === 'string' ? { path: raw } : raw\n  // named target\n  if (next.name || next._normalized) {\n    return next\n  }\n\n  // relative params\n  if (!next.path && next.params && current) {\n    next = assign({}, next)\n    next._normalized = true\n    var params = assign(assign({}, current.params), next.params)\n    if (current.name) {\n      next.name = current.name\n      next.params = params\n    } else if (current.matched) {\n      var rawPath = current.matched[current.matched.length - 1].path\n      next.path = fillParams(rawPath, params, (\"path \" + (current.path)))\n    } else if (process.env.NODE_ENV !== 'production') {\n      warn(false, \"relative params navigation requires a current route.\")\n    }\n    return next\n  }\n\n  var parsedPath = parsePath(next.path || '')\n  var basePath = (current && current.path) || '/'\n  var path = parsedPath.path\n    ? resolvePath(parsedPath.path, basePath, append || next.append)\n    : (current && current.path) || '/'\n  var query = resolveQuery(parsedPath.query, next.query)\n  var hash = next.hash || parsedPath.hash\n  if (hash && hash.charAt(0) !== '#') {\n    hash = \"#\" + hash\n  }\n\n  return {\n    _normalized: true,\n    path: path,\n    query: query,\n    hash: hash\n  }\n}\n\nfunction assign (a, b) {\n  for (var key in b) {\n    a[key] = b[key]\n  }\n  return a\n}\n\n/*  */\n\nfunction createMatcher (routes) {\n  var ref = createRouteMap(routes);\n  var pathMap = ref.pathMap;\n  var nameMap = ref.nameMap;\n\n  function match (\n    raw,\n    currentRoute,\n    redirectedFrom\n  ) {\n    var location = normalizeLocation(raw, currentRoute)\n    var name = location.name;\n\n    if (name) {\n      var record = nameMap[name]\n      var paramNames = getRouteRegex(record.path).keys\n        .filter(function (key) { return !key.optional; })\n        .map(function (key) { return key.name; })\n\n      if (typeof location.params !== 'object') {\n        location.params = {}\n      }\n\n      if (currentRoute && typeof currentRoute.params === 'object') {\n        for (var key in currentRoute.params) {\n          if (!(key in location.params) && paramNames.indexOf(key) > -1) {\n            location.params[key] = currentRoute.params[key]\n          }\n        }\n      }\n\n      if (record) {\n        location.path = fillParams(record.path, location.params, (\"named route \\\"\" + name + \"\\\"\"))\n        return _createRoute(record, location, redirectedFrom)\n      }\n    } else if (location.path) {\n      location.params = {}\n      for (var path in pathMap) {\n        if (matchRoute(path, location.params, location.path)) {\n          return _createRoute(pathMap[path], location, redirectedFrom)\n        }\n      }\n    }\n    // no match\n    return _createRoute(null, location)\n  }\n\n  function redirect (\n    record,\n    location\n  ) {\n    var originalRedirect = record.redirect\n    var redirect = typeof originalRedirect === 'function'\n        ? originalRedirect(createRoute(record, location))\n        : originalRedirect\n\n    if (typeof redirect === 'string') {\n      redirect = { path: redirect }\n    }\n\n    if (!redirect || typeof redirect !== 'object') {\n      process.env.NODE_ENV !== 'production' && warn(\n        false, (\"invalid redirect option: \" + (JSON.stringify(redirect)))\n      )\n      return _createRoute(null, location)\n    }\n\n    var re = redirect\n    var name = re.name;\n    var path = re.path;\n    var query = location.query;\n    var hash = location.hash;\n    var params = location.params;\n    query = re.hasOwnProperty('query') ? re.query : query\n    hash = re.hasOwnProperty('hash') ? re.hash : hash\n    params = re.hasOwnProperty('params') ? re.params : params\n\n    if (name) {\n      // resolved named direct\n      var targetRecord = nameMap[name]\n      if (process.env.NODE_ENV !== 'production') {\n        assert(targetRecord, (\"redirect failed: named route \\\"\" + name + \"\\\" not found.\"))\n      }\n      return match({\n        _normalized: true,\n        name: name,\n        query: query,\n        hash: hash,\n        params: params\n      }, undefined, location)\n    } else if (path) {\n      // 1. resolve relative redirect\n      var rawPath = resolveRecordPath(path, record)\n      // 2. resolve params\n      var resolvedPath = fillParams(rawPath, params, (\"redirect route with path \\\"\" + rawPath + \"\\\"\"))\n      // 3. rematch with existing query and hash\n      return match({\n        _normalized: true,\n        path: resolvedPath,\n        query: query,\n        hash: hash\n      }, undefined, location)\n    } else {\n      warn(false, (\"invalid redirect option: \" + (JSON.stringify(redirect))))\n      return _createRoute(null, location)\n    }\n  }\n\n  function alias (\n    record,\n    location,\n    matchAs\n  ) {\n    var aliasedPath = fillParams(matchAs, location.params, (\"aliased route with path \\\"\" + matchAs + \"\\\"\"))\n    var aliasedMatch = match({\n      _normalized: true,\n      path: aliasedPath\n    })\n    if (aliasedMatch) {\n      var matched = aliasedMatch.matched\n      var aliasedRecord = matched[matched.length - 1]\n      location.params = aliasedMatch.params\n      return _createRoute(aliasedRecord, location)\n    }\n    return _createRoute(null, location)\n  }\n\n  function _createRoute (\n    record,\n    location,\n    redirectedFrom\n  ) {\n    if (record && record.redirect) {\n      return redirect(record, redirectedFrom || location)\n    }\n    if (record && record.matchAs) {\n      return alias(record, location, record.matchAs)\n    }\n    return createRoute(record, location, redirectedFrom)\n  }\n\n  return match\n}\n\nfunction matchRoute (\n  path,\n  params,\n  pathname\n) {\n  var ref = getRouteRegex(path);\n  var regexp = ref.regexp;\n  var keys = ref.keys;\n  var m = pathname.match(regexp)\n\n  if (!m) {\n    return false\n  } else if (!params) {\n    return true\n  }\n\n  for (var i = 1, len = m.length; i < len; ++i) {\n    var key = keys[i - 1]\n    var val = typeof m[i] === 'string' ? decodeURIComponent(m[i]) : m[i]\n    if (key) { params[key.name] = val }\n  }\n\n  return true\n}\n\nfunction resolveRecordPath (path, record) {\n  return resolvePath(path, record.parent ? record.parent.path : '/', true)\n}\n\n/*  */\n\nvar inBrowser = typeof window !== 'undefined'\n\nvar supportsHistory = inBrowser && (function () {\n  var ua = window.navigator.userAgent\n\n  if (\n    (ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) &&\n    ua.indexOf('Mobile Safari') !== -1 &&\n    ua.indexOf('Chrome') === -1 &&\n    ua.indexOf('Windows Phone') === -1\n  ) {\n    return false\n  }\n\n  return window.history && 'pushState' in window.history\n})()\n\n/*  */\n\nfunction runQueue (queue, fn, cb) {\n  var step = function (index) {\n    if (index >= queue.length) {\n      cb()\n    } else {\n      if (queue[index]) {\n        fn(queue[index], function () {\n          step(index + 1)\n        })\n      } else {\n        step(index + 1)\n      }\n    }\n  }\n  step(0)\n}\n\n/*  */\n\n\nvar History = function History (router, base) {\n  this.router = router\n  this.base = normalizeBase(base)\n  // start with a route object that stands for \"nowhere\"\n  this.current = START\n  this.pending = null\n};\n\nHistory.prototype.listen = function listen (cb) {\n  this.cb = cb\n};\n\nHistory.prototype.transitionTo = function transitionTo (location, onComplete, onAbort) {\n    var this$1 = this;\n\n  var route = this.router.match(location, this.current)\n  this.confirmTransition(route, function () {\n    this$1.updateRoute(route)\n    onComplete && onComplete(route)\n    this$1.ensureURL()\n  }, onAbort)\n};\n\nHistory.prototype.confirmTransition = function confirmTransition (route, onComplete, onAbort) {\n    var this$1 = this;\n\n  var current = this.current\n  var abort = function () { onAbort && onAbort() }\n  if (isSameRoute(route, current)) {\n    this.ensureURL()\n    return abort()\n  }\n\n  var ref = resolveQueue(this.current.matched, route.matched);\n    var deactivated = ref.deactivated;\n    var activated = ref.activated;\n\n  var queue = [].concat(\n    // in-component leave guards\n    extractLeaveGuards(deactivated),\n    // global before hooks\n    this.router.beforeHooks,\n    // enter guards\n    activated.map(function (m) { return m.beforeEnter; }),\n    // async components\n    resolveAsyncComponents(activated)\n  )\n\n  this.pending = route\n  var iterator = function (hook, next) {\n    if (this$1.pending !== route) {\n      return abort()\n    }\n    hook(route, current, function (to) {\n      if (to === false) {\n        // next(false) -> abort navigation, ensure current URL\n        this$1.ensureURL(true)\n        abort()\n      } else if (typeof to === 'string' || typeof to === 'object') {\n        // next('/') or next({ path: '/' }) -> redirect\n        (typeof to === 'object' && to.replace) ? this$1.replace(to) : this$1.push(to)\n        abort()\n      } else {\n        // confirm transition and pass on the value\n        next(to)\n      }\n    })\n  }\n\n  runQueue(queue, iterator, function () {\n    var postEnterCbs = []\n    var enterGuards = extractEnterGuards(activated, postEnterCbs, function () {\n      return this$1.current === route\n    })\n    // wait until async components are resolved before\n    // extracting in-component enter guards\n    runQueue(enterGuards, iterator, function () {\n      if (this$1.pending !== route) {\n        return abort()\n      }\n      this$1.pending = null\n      onComplete(route)\n      if (this$1.router.app) {\n        this$1.router.app.$nextTick(function () {\n          postEnterCbs.forEach(function (cb) { return cb(); })\n        })\n      }\n    })\n  })\n};\n\nHistory.prototype.updateRoute = function updateRoute (route) {\n  var prev = this.current\n  this.current = route\n  this.cb && this.cb(route)\n  this.router.afterHooks.forEach(function (hook) {\n    hook && hook(route, prev)\n  })\n};\n\nfunction normalizeBase (base) {\n  if (!base) {\n    if (inBrowser) {\n      // respect <base> tag\n      var baseEl = document.querySelector('base')\n      base = baseEl ? baseEl.getAttribute('href') : '/'\n    } else {\n      base = '/'\n    }\n  }\n  // make sure there's the starting slash\n  if (base.charAt(0) !== '/') {\n    base = '/' + base\n  }\n  // remove trailing slash\n  return base.replace(/\\/$/, '')\n}\n\nfunction resolveQueue (\n  current,\n  next\n) {\n  var i\n  var max = Math.max(current.length, next.length)\n  for (i = 0; i < max; i++) {\n    if (current[i] !== next[i]) {\n      break\n    }\n  }\n  return {\n    activated: next.slice(i),\n    deactivated: current.slice(i)\n  }\n}\n\nfunction extractGuard (\n  def,\n  key\n) {\n  if (typeof def !== 'function') {\n    // extend now so that global mixins are applied.\n    def = _Vue.extend(def)\n  }\n  return def.options[key]\n}\n\nfunction extractLeaveGuards (matched) {\n  return flatten(flatMapComponents(matched, function (def, instance) {\n    var guard = extractGuard(def, 'beforeRouteLeave')\n    if (guard) {\n      return Array.isArray(guard)\n        ? guard.map(function (guard) { return wrapLeaveGuard(guard, instance); })\n        : wrapLeaveGuard(guard, instance)\n    }\n  }).reverse())\n}\n\nfunction wrapLeaveGuard (\n  guard,\n  instance\n) {\n  return function routeLeaveGuard () {\n    return guard.apply(instance, arguments)\n  }\n}\n\nfunction extractEnterGuards (\n  matched,\n  cbs,\n  isValid\n) {\n  return flatten(flatMapComponents(matched, function (def, _, match, key) {\n    var guard = extractGuard(def, 'beforeRouteEnter')\n    if (guard) {\n      return Array.isArray(guard)\n        ? guard.map(function (guard) { return wrapEnterGuard(guard, cbs, match, key, isValid); })\n        : wrapEnterGuard(guard, cbs, match, key, isValid)\n    }\n  }))\n}\n\nfunction wrapEnterGuard (\n  guard,\n  cbs,\n  match,\n  key,\n  isValid\n) {\n  return function routeEnterGuard (to, from, next) {\n    return guard(to, from, function (cb) {\n      next(cb)\n      if (typeof cb === 'function') {\n        cbs.push(function () {\n          // #750\n          // if a router-view is wrapped with an out-in transition,\n          // the instance may not have been registered at this time.\n          // we will need to poll for registration until current route\n          // is no longer valid.\n          poll(cb, match.instances, key, isValid)\n        })\n      }\n    })\n  }\n}\n\nfunction poll (\n  cb, // somehow flow cannot infer this is a function\n  instances,\n  key,\n  isValid\n) {\n  if (instances[key]) {\n    cb(instances[key])\n  } else if (isValid()) {\n    setTimeout(function () {\n      poll(cb, instances, key, isValid)\n    }, 16)\n  }\n}\n\nfunction resolveAsyncComponents (matched) {\n  return flatMapComponents(matched, function (def, _, match, key) {\n    // if it's a function and doesn't have Vue options attached,\n    // assume it's an async component resolve function.\n    // we are not using Vue's default async resolving mechanism because\n    // we want to halt the navigation until the incoming component has been\n    // resolved.\n    if (typeof def === 'function' && !def.options) {\n      return function (to, from, next) {\n        var resolve = function (resolvedDef) {\n          match.components[key] = resolvedDef\n          next()\n        }\n\n        var reject = function (reason) {\n          warn(false, (\"Failed to resolve async component \" + key + \": \" + reason))\n          next(false)\n        }\n\n        var res = def(resolve, reject)\n        if (res && typeof res.then === 'function') {\n          res.then(resolve, reject)\n        }\n      }\n    }\n  })\n}\n\nfunction flatMapComponents (\n  matched,\n  fn\n) {\n  return flatten(matched.map(function (m) {\n    return Object.keys(m.components).map(function (key) { return fn(\n      m.components[key],\n      m.instances[key],\n      m, key\n    ); })\n  }))\n}\n\nfunction flatten (arr) {\n  return Array.prototype.concat.apply([], arr)\n}\n\n/*  */\n\nvar positionStore = Object.create(null)\n\nfunction saveScrollPosition (key) {\n  if (!key) { return }\n  positionStore[key] = {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  }\n}\n\nfunction getScrollPosition (key) {\n  if (!key) { return }\n  return positionStore[key]\n}\n\nfunction getElementPosition (el) {\n  var docRect = document.documentElement.getBoundingClientRect()\n  var elRect = el.getBoundingClientRect()\n  return {\n    x: elRect.left - docRect.left,\n    y: elRect.top - docRect.top\n  }\n}\n\nfunction isValidPosition (obj) {\n  return isNumber(obj.x) || isNumber(obj.y)\n}\n\nfunction normalizePosition (obj) {\n  return {\n    x: isNumber(obj.x) ? obj.x : window.pageXOffset,\n    y: isNumber(obj.y) ? obj.y : window.pageYOffset\n  }\n}\n\nfunction isNumber (v) {\n  return typeof v === 'number'\n}\n\n/*  */\n\n\nvar genKey = function () { return String(Date.now()); }\nvar _key = genKey()\n\nvar HTML5History = (function (History) {\n  function HTML5History (router, base) {\n    var this$1 = this;\n\n    History.call(this, router, base)\n\n    var expectScroll = router.options.scrollBehavior\n    window.addEventListener('popstate', function (e) {\n      _key = e.state && e.state.key\n      var current = this$1.current\n      this$1.transitionTo(getLocation(this$1.base), function (next) {\n        if (expectScroll) {\n          this$1.handleScroll(next, current, true)\n        }\n      })\n    })\n\n    if (expectScroll) {\n      window.addEventListener('scroll', function () {\n        saveScrollPosition(_key)\n      })\n    }\n  }\n\n  if ( History ) HTML5History.__proto__ = History;\n  HTML5History.prototype = Object.create( History && History.prototype );\n  HTML5History.prototype.constructor = HTML5History;\n\n  HTML5History.prototype.go = function go (n) {\n    window.history.go(n)\n  };\n\n  HTML5History.prototype.push = function push (location) {\n    var this$1 = this;\n\n    var current = this.current\n    this.transitionTo(location, function (route) {\n      pushState(cleanPath(this$1.base + route.fullPath))\n      this$1.handleScroll(route, current, false)\n    })\n  };\n\n  HTML5History.prototype.replace = function replace (location) {\n    var this$1 = this;\n\n    var current = this.current\n    this.transitionTo(location, function (route) {\n      replaceState(cleanPath(this$1.base + route.fullPath))\n      this$1.handleScroll(route, current, false)\n    })\n  };\n\n  HTML5History.prototype.ensureURL = function ensureURL (push) {\n    if (getLocation(this.base) !== this.current.fullPath) {\n      var current = cleanPath(this.base + this.current.fullPath)\n      push ? pushState(current) : replaceState(current)\n    }\n  };\n\n  HTML5History.prototype.handleScroll = function handleScroll (to, from, isPop) {\n    var router = this.router\n    if (!router.app) {\n      return\n    }\n\n    var behavior = router.options.scrollBehavior\n    if (!behavior) {\n      return\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      assert(typeof behavior === 'function', \"scrollBehavior must be a function\")\n    }\n\n    // wait until re-render finishes before scrolling\n    router.app.$nextTick(function () {\n      var position = getScrollPosition(_key)\n      var shouldScroll = behavior(to, from, isPop ? position : null)\n      if (!shouldScroll) {\n        return\n      }\n      var isObject = typeof shouldScroll === 'object'\n      if (isObject && typeof shouldScroll.selector === 'string') {\n        var el = document.querySelector(shouldScroll.selector)\n        if (el) {\n          position = getElementPosition(el)\n        } else if (isValidPosition(shouldScroll)) {\n          position = normalizePosition(shouldScroll)\n        }\n      } else if (isObject && isValidPosition(shouldScroll)) {\n        position = normalizePosition(shouldScroll)\n      }\n\n      if (position) {\n        window.scrollTo(position.x, position.y)\n      }\n    })\n  };\n\n  return HTML5History;\n}(History));\n\nfunction getLocation (base) {\n  var path = window.location.pathname\n  if (base && path.indexOf(base) === 0) {\n    path = path.slice(base.length)\n  }\n  return (path || '/') + window.location.search + window.location.hash\n}\n\nfunction pushState (url, replace) {\n  // try...catch the pushState call to get around Safari\n  // DOM Exception 18 where it limits to 100 pushState calls\n  var history = window.history\n  try {\n    if (replace) {\n      history.replaceState({ key: _key }, '', url)\n    } else {\n      _key = genKey()\n      history.pushState({ key: _key }, '', url)\n    }\n    saveScrollPosition(_key)\n  } catch (e) {\n    window.location[replace ? 'assign' : 'replace'](url)\n  }\n}\n\nfunction replaceState (url) {\n  pushState(url, true)\n}\n\n/*  */\n\n\nvar HashHistory = (function (History) {\n  function HashHistory (router, base, fallback) {\n    History.call(this, router, base)\n    // check history fallback deeplinking\n    if (fallback && this.checkFallback()) {\n      return\n    }\n    ensureSlash()\n  }\n\n  if ( History ) HashHistory.__proto__ = History;\n  HashHistory.prototype = Object.create( History && History.prototype );\n  HashHistory.prototype.constructor = HashHistory;\n\n  HashHistory.prototype.checkFallback = function checkFallback () {\n    var location = getLocation(this.base)\n    if (!/^\\/#/.test(location)) {\n      window.location.replace(\n        cleanPath(this.base + '/#' + location)\n      )\n      return true\n    }\n  };\n\n  HashHistory.prototype.onHashChange = function onHashChange () {\n    if (!ensureSlash()) {\n      return\n    }\n    this.transitionTo(getHash(), function (route) {\n      replaceHash(route.fullPath)\n    })\n  };\n\n  HashHistory.prototype.push = function push (location) {\n    this.transitionTo(location, function (route) {\n      pushHash(route.fullPath)\n    })\n  };\n\n  HashHistory.prototype.replace = function replace (location) {\n    this.transitionTo(location, function (route) {\n      replaceHash(route.fullPath)\n    })\n  };\n\n  HashHistory.prototype.go = function go (n) {\n    window.history.go(n)\n  };\n\n  HashHistory.prototype.ensureURL = function ensureURL (push) {\n    var current = this.current.fullPath\n    if (getHash() !== current) {\n      push ? pushHash(current) : replaceHash(current)\n    }\n  };\n\n  return HashHistory;\n}(History));\n\nfunction ensureSlash () {\n  var path = getHash()\n  if (path.charAt(0) === '/') {\n    return true\n  }\n  replaceHash('/' + path)\n  return false\n}\n\nfunction getHash () {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  var href = window.location.href\n  var index = href.indexOf('#')\n  return index === -1 ? '' : href.slice(index + 1)\n}\n\nfunction pushHash (path) {\n  window.location.hash = path\n}\n\nfunction replaceHash (path) {\n  var i = window.location.href.indexOf('#')\n  window.location.replace(\n    window.location.href.slice(0, i >= 0 ? i : 0) + '#' + path\n  )\n}\n\n/*  */\n\n\nvar AbstractHistory = (function (History) {\n  function AbstractHistory (router) {\n    History.call(this, router)\n    this.stack = []\n    this.index = -1\n  }\n\n  if ( History ) AbstractHistory.__proto__ = History;\n  AbstractHistory.prototype = Object.create( History && History.prototype );\n  AbstractHistory.prototype.constructor = AbstractHistory;\n\n  AbstractHistory.prototype.push = function push (location) {\n    var this$1 = this;\n\n    this.transitionTo(location, function (route) {\n      this$1.stack = this$1.stack.slice(0, this$1.index + 1).concat(route)\n      this$1.index++\n    })\n  };\n\n  AbstractHistory.prototype.replace = function replace (location) {\n    var this$1 = this;\n\n    this.transitionTo(location, function (route) {\n      this$1.stack = this$1.stack.slice(0, this$1.index).concat(route)\n    })\n  };\n\n  AbstractHistory.prototype.go = function go (n) {\n    var this$1 = this;\n\n    var targetIndex = this.index + n\n    if (targetIndex < 0 || targetIndex >= this.stack.length) {\n      return\n    }\n    var route = this.stack[targetIndex]\n    this.confirmTransition(route, function () {\n      this$1.index = targetIndex\n      this$1.updateRoute(route)\n    })\n  };\n\n  AbstractHistory.prototype.ensureURL = function ensureURL () {\n    // noop\n  };\n\n  return AbstractHistory;\n}(History));\n\n/*  */\n\nvar VueRouter = function VueRouter (options) {\n  if ( options === void 0 ) options = {};\n\n  this.app = null\n  this.options = options\n  this.beforeHooks = []\n  this.afterHooks = []\n  this.match = createMatcher(options.routes || [])\n\n  var mode = options.mode || 'hash'\n  this.fallback = mode === 'history' && !supportsHistory\n  if (this.fallback) {\n    mode = 'hash'\n  }\n  if (!inBrowser) {\n    mode = 'abstract'\n  }\n  this.mode = mode\n\n  switch (mode) {\n    case 'history':\n      this.history = new HTML5History(this, options.base)\n      break\n    case 'hash':\n      this.history = new HashHistory(this, options.base, this.fallback)\n      break\n    case 'abstract':\n      this.history = new AbstractHistory(this)\n      break\n    default:\n      process.env.NODE_ENV !== 'production' && assert(false, (\"invalid mode: \" + mode))\n  }\n};\n\nvar prototypeAccessors = { currentRoute: {} };\n\nprototypeAccessors.currentRoute.get = function () {\n  return this.history && this.history.current\n};\n\nVueRouter.prototype.init = function init (app /* Vue component instance */) {\n    var this$1 = this;\n\n  process.env.NODE_ENV !== 'production' && assert(\n    install.installed,\n    \"not installed. Make sure to call `Vue.use(VueRouter)` \" +\n    \"before creating root instance.\"\n  )\n\n  this.app = app\n\n  var history = this.history\n\n  if (history instanceof HTML5History) {\n    history.transitionTo(getLocation(history.base))\n  } else if (history instanceof HashHistory) {\n    var setupHashListener = function () {\n      window.addEventListener('hashchange', function () {\n        history.onHashChange()\n      })\n    }\n    history.transitionTo(getHash(), setupHashListener, setupHashListener)\n  }\n\n  history.listen(function (route) {\n    this$1.app._route = route\n  })\n};\n\nVueRouter.prototype.beforeEach = function beforeEach (fn) {\n  this.beforeHooks.push(fn)\n};\n\nVueRouter.prototype.afterEach = function afterEach (fn) {\n  this.afterHooks.push(fn)\n};\n\nVueRouter.prototype.push = function push (location) {\n  this.history.push(location)\n};\n\nVueRouter.prototype.replace = function replace (location) {\n  this.history.replace(location)\n};\n\nVueRouter.prototype.go = function go (n) {\n  this.history.go(n)\n};\n\nVueRouter.prototype.back = function back () {\n  this.go(-1)\n};\n\nVueRouter.prototype.forward = function forward () {\n  this.go(1)\n};\n\nVueRouter.prototype.getMatchedComponents = function getMatchedComponents (to) {\n  var route = to\n    ? this.resolve(to).resolved\n    : this.currentRoute\n  if (!route) {\n    return []\n  }\n  return [].concat.apply([], route.matched.map(function (m) {\n    return Object.keys(m.components).map(function (key) {\n      return m.components[key]\n    })\n  }))\n};\n\nVueRouter.prototype.resolve = function resolve (\n  to,\n  current,\n  append\n) {\n  var normalizedTo = normalizeLocation(to, current || this.history.current, append)\n  var resolved = this.match(normalizedTo, current)\n  var fullPath = resolved.redirectedFrom || resolved.fullPath\n  var base = this.history.base\n  var href = createHref(base, fullPath, this.mode)\n  return {\n    normalizedTo: normalizedTo,\n    resolved: resolved,\n    href: href\n  }\n};\n\nObject.defineProperties( VueRouter.prototype, prototypeAccessors );\n\nfunction createHref (base, fullPath, mode) {\n  var path = mode === 'hash' ? '#' + fullPath : fullPath\n  return base ? cleanPath(base + '/' + path) : path\n}\n\nVueRouter.install = install\n\nif (inBrowser && window.Vue) {\n  window.Vue.use(VueRouter)\n}\n\nmodule.exports = VueRouter;"]},"metadata":{},"sourceType":"script"}